{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-08 11:25:12.463604",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Quotation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div style=\\\"text-align:center;\\\">\\n    <h2><b>Bill Of Quantity - BOQ - P&L</b></h2>\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n\\n{% set address = frappe.get_list(\\\"Dynamic Link\\\",\\n    filters={\\n        \\\"link_name\\\": doc.party_name,\\n        \\\"parenttype\\\": \\\"Address\\\"\\n    },\\n    fields=[\\\"*\\\"],\\n    ignore_permissions=true\\n) %}\\n{% if address %}\\n{% set add_doc = frappe.get_doc(\\\"Address\\\", address[0].parent) %}\\n{% endif %}\\n\\n\\n\\n{% set ns = namespace(amount=0 , cogs=0 , dry_cost=0 , total_cost=0 , p_l=0 )  %}\\n\\n\\n\\n\\n<div style=\\\"width:100%;\\\">\\n    \\n    <table style=\\\"width:100%; font-size:8pt;\\\">\\n        <tr>\\n            <td style=\\\"width:15%; padding:1px !important; border:1px solid black;\\\"><b>Quotation To</b></td>\\n            <td style=\\\"width:35%; padding:1px !important; border:1px solid black;\\\">{{doc.quotation_to or ''}}</td>\\n            <td style=\\\"width:15%; padding:1px !important; border:1px solid black;\\\"><b>Project</b></td>\\n            <td style=\\\"width:35%; padding:1px !important; border:1px solid black;\\\">{{doc.custom_project or ''}}</td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\"><b>{{doc.quotation_to}}</b></td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\">{{doc.party_name or ''}}</td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\"><b>Reference</b></td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\">{{doc.custom_quotation_reference or ''}}</td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\"><b>Order Type</b></td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\">{{doc.order_type or ''}}</td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\"><b>Document Type</b></td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\">{{doc.custom_document_type or ''}}</td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\"><b>Date</b></td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\">{{doc.transaction_date or ''}}</td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\"><b>Valid Till</b></td>\\n            <td style=\\\"padding:1px !important; border:1px solid black;\\\">{{doc.valid_till or ''}}</td>\\n        </tr>\\n    </table>\\n    \\n    \\n    <br>\\n    \\n    \\n    <table style=\\\"width:100%; font-size:6.5pt;\\\">\\n        <thead>\\n            <tr>\\n                <th style=\\\"font-size:7.5pt; width:3%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"></th>\\n                <th colspan=\\\"2\\\" style=\\\"font-size:7.5pt; width:9%; border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>ITEM</b></th>\\n                <th style=\\\"font-size:7.5pt; width:30%; border-top:1px solid black; border-bottom:1px solid black; border-right:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"></th>\\n                <th style=\\\"font-size:7.5pt; width:5%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>QTY</b></th>\\n                <th style=\\\"font-size:7.5pt; width:5%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>UNIT</b></th>\\n                <th style=\\\"font-size:6.5pt; width:8%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>Selling RATE</b></th>\\n                <th style=\\\"font-size:6.5pt; width:8%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>Selling AMOUNT</b></th>\\n                <th style=\\\"font-size:7.5pt; width:8%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>COGS</b></th>\\n                <th style=\\\"font-size:7.5pt; width:8%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>Dry Cost</b></th>\\n                <th style=\\\"font-size:7.5pt; width:8%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>Total Cost</b></th>\\n                <th style=\\\"font-size:7.5pt; width:8%; border:1px solid black; padding:5px !important; background-color:#F5F5F5;\\\"><b>P & L</b></th>\\n            </tr>\\n        </thead>\\n        <tbody>\\n            {% for row in doc.items %}\\n                <tr>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:center;\\\"><b>{{row.idx}}</b></td>\\n                    <td colspan=\\\"3\\\" style=\\\"border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; padding:1px !important;\\\"><b>{{row.item_code}}</b></td>\\n                    \\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:center;\\\"><b>{{ \\\"{:,.0f}\\\".format(row.qty) }}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important;\\\"><b>{{row.uom}}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(row.rate) }}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(row.amount) }}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(row.custom_item_cogs) }}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(row.custom_total_landed_cost) }}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(row.custom_total_costs) }}</b></td>\\n                    <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(row.amount - row.custom_total_costs) }}</b></td>\\n                </tr>\\n                {% set ns.amount = ns.amount + row.amount %}\\n                {% set ns.cogs = ns.cogs + row.custom_item_cogs %}\\n                {% set ns.dry_cost = ns.dry_cost + row.custom_total_landed_cost %}\\n                {% set ns.total_cost = ns.total_cost + row.custom_total_costs %}\\n                {% set ns.p_l = ns.p_l + (row.amount - row.custom_total_costs) %}\\n                \\n                {% for row2 in doc.packed_items %}\\n                    {% if row.item_code == row2.parent_item %}\\n                        <tr>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"><b>{{row.idx}}.{{row2.idx}}</b></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\">{{row2.item_code}}</td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\">{{row2.description}}</td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important; text-align:center;\\\">{{ \\\"{:,.0f}\\\".format(row2.qty) }}</td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\">{{row2.uom}}</td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                            <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                        </tr>\\n                    {% endif %}\\n                {% endfor %}\\n            {% endfor %}\\n            <tr>\\n                <td style=\\\"border:1px solid black; padding:1px !important;\\\"></td>\\n                <td colspan=\\\"2\\\" style=\\\"border-top:1px solid black; border-bottom:1px solid black; border-left:1px solid black; padding:1px !important;\\\"></td>\\n                <td style=\\\"border-top:1px solid black; border-bottom:1px solid black; border-right:1px solid black; padding:1px !important;\\\"></td>\\n                <td colspan=\\\"3\\\" style=\\\"border:1px solid black; padding:1px !important;\\\"><b>Grand Total</b></td>\\n                <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(doc.total) }}</b></td>\\n                <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.cogs) }}</b></td>\\n                <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.dry_cost) }}</b></td>\\n                <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.total_cost) }}</b></td>\\n                <td style=\\\"border:1px solid black; padding:1px !important; text-align:right;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.p_l) }}</b></td>\\n            </tr>\\n        </tbody>\\n    </table>\\n    \\n    \\n    \\n</div>\\n\\n<br>\\n\\n\\n<div style=\\\"page-break-inside:avoide;\\\">    \\n    <table style=\\\"width:100%; font-size:8pt;\\\">\\n        <tr>\\n            <td style=\\\"padding:2px !important; border:1px solid black; width:50%; text-align:center;\\\"><b>Selling Amount</b></td>\\n            <td style=\\\"padding:2px !important; border:1px solid black; width:50%; text-align:center;\\\"><b>{{ \\\"{:,.2f}\\\".format(doc.total) }}</b></td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:2px !important; border:1px solid black; width:50%; text-align:center;\\\"><b>LESS : COGS</b></td>\\n            <td style=\\\"padding:2px !important; border:1px solid black; width:50%; text-align:center;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.cogs) or 0 }}</b></td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:2px !important; border:1px solid black; width:50%; text-align:center;\\\"><b>LESS : Dry Cost</b></td>\\n            <td style=\\\"padding:2px !important; border:1px solid black; width:50%; text-align:center;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.dry_cost) }}</b></td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:2px !important; border:1px solid black; text-align:center;\\\"><b>Profit & Loss</b></td>\\n            <td style=\\\"padding:2px !important; border:1px solid black; text-align:center;\\\"><b>{{ \\\"{:,.2f}\\\".format(ns.p_l) or 0 }}</b></td>\\n        </tr>\\n    </table>\\n    \\n    \\n</div>\\n\\n\\n\\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-05-15 15:15:46.776112",
 "modified_by": "Administrator",
 "module": "Quotation Profitability",
 "name": "BOQ P & L",
 "owner": "ahsan.tareen@sowaan.com",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}